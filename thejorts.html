<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projects - PRORIENTATION</title>

  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;800&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">
  <script src="scripts.js" defer></script>

</head>

<body>
<audio id="musicPlayer" src="audio/Happy Monday.mp3" preload="auto" loop></audio>
  <header>
    <nav class="navbar">

      <div class="logo-nav">
        <a href="index.html">
            <img src="TI/PRORI LOGO SMALL.png" alt="PRORIENTATION Logo" class="logo-nav-img">
        </a>
      </div>

      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="projects.html">Projects</a></li>
        <li><a href="team.html">Team</a></li>
      </ul>
    </nav>
  </header>/
  
    <div class = "slides-background"></div>

  <div class="container">

    <!-- HEADER -->
    <div class="slides-header2">
          <img src="TI/LOGO JORTS.png " alt="logothejorts" class="logo-project">

        <div class="title-box">
            <img src="TI/JORTS.png" alt="thejorts" class="tulisan-project2">
        </div>

        <!-- BUTTON MENU -->
        <div class="slides menu">
            <button class="tab-btn active" data-tab="sinopsis">SINOPSIS</button>
            <button class="tab-btn" data-tab="credit">CREDIT</button>
            <a href="#" onclick="openComingSoon(event)" class="link-btn">PLAY MV</a>
            <a href="https://www.instagram.com/curiousjorts?igsh=MXMyNGw2NThnZTAzNg==" target="_blank" class="link-btn">INSTAGRAM</a>
        </div>
    </div>

    <!-- CONTENT BOX -->
    <div class="content-box">

        <!-- SINOPSIS -->
        <div class="tab-content active" id="sinopsis">
                <img src="TI/sinopsis jorts.png" alt="thejorts" class="img-project2">
        </div>

        <!-- CREDIT -->
        <div class="tab-content" id="credit">
                <img src="TI/JORTS CREDIT.png" alt="thejorts" class="img-project2">
        </div>

    </div>

</div>

<div class="project-navigation">
    <button class="nav-button prev-project">
        <img src="TI/BACK BUTTON.png" alt="Previous Project">
    </button>
    <button class="nav-button next-project">
        <img src="TI/NWXT BUTTON.png" alt="Next Project">
    </button>
</div>

</body>
</html>

<!-- === POP-UP COMING SOON === -->
<div id="comingSoonModal" class="cs-overlay">
    <div class="cs-box">
        <!-- Tombol Close (X) -->
        <span class="cs-close" onclick="closeComingSoon()">&times;</span>
        
        <!-- Ikon / Gambar (Opsional) -->
        <div class="cs-icon">ðŸš§</div> 
        
        <!-- Teks -->
        <h2>COMING SOON!</h2>
        <p>Video dari The Jorts sedang dalam proses editing.</p>
        <p style="font-size: 0.9rem; color: #666;">Tunggu tanggal mainnya ya! âœ¨</p>
        
        <!-- Tombol Oke -->
        <button onclick="closeComingSoon()" class="cs-btn-ok">Siap, Ditunggu!</button>
    </div>
</div>

<script>
    // Fungsi Buka Pop-Up
    function openComingSoon(e) {
        if(e) e.preventDefault(); // Mencegah link pindah halaman
        const modal = document.getElementById('comingSoonModal');
        modal.style.display = "flex"; // Munculkan
    }

    // Fungsi Tutup Pop-Up
    function closeComingSoon() {
        const modal = document.getElementById('comingSoonModal');
        modal.style.display = "none"; // Sembunyikan
    }

    // Tutup kalau user klik di luar kotak putih
    window.onclick = function(event) {
        const modal = document.getElementById('comingSoonModal');
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>
<script>
    // === 1. KONSTANTA DAN AMBIL ELEMEN ===
    const speakerLeft = document.querySelector('.speaker.left');
    const speakerRight = document.querySelector('.speaker.right');
    const characters = document.querySelectorAll('.char'); 
    const musicPlayer = document.getElementById('musicPlayer'); // Pastikan <audio id="musicPlayer"> ada di HTML
    
    // Kunci untuk menyimpan status di browser (localStorage)
    const MUSIC_KEY = 'musicStatus';       // 'playing' atau 'paused'
    const TIME_KEY = 'musicCurrentTime';   // Detik terakhir lagu
    
    // === 2. FUNGSI UTILITY ===

    // Fungsi untuk mengaktifkan/menonaktifkan wiggle pada karakter
    function toggleWiggle(shouldWiggle) {
        characters.forEach(char => {
            // Menggunakan classList.toggle untuk memudahkan
            char.classList.toggle('is-wiggling', shouldWiggle);
        });
    }

    // Fungsi untuk menerapkan status visual speaker dan karakter (dipanggil saat dimuat atau diklik)
    function applyStatus(status) {
        const isPlaying = (status === 'playing');
        
        // Terapkan wiggle pada karakter
        toggleWiggle(isPlaying); 

        // Terapkan efek joget pada speaker (hanya jika elemen speaker ada di halaman ini)
        if (speakerLeft && speakerRight) {
            speakerLeft.classList.toggle('joget', isPlaying);
            speakerRight.classList.toggle('joget', isPlaying);
        }
    }


    // === 3. HANDLER UTAMA (Saat Speaker Diklik) ===
    const speakerClickHandler = () => {
        const currentStatus = localStorage.getItem(MUSIC_KEY);
        
        if (currentStatus === 'playing') {
            // --- MATIKAN ---
            musicPlayer.pause();
            musicPlayer.currentTime = 0; // Atur ulang ke detik 0
            localStorage.setItem(MUSIC_KEY, 'paused');
            localStorage.removeItem(TIME_KEY); // Hapus waktu tersimpan jika dihentikan total
            applyStatus('paused');
        } else {
            // --- HIDUPKAN ---
            // Coba putar lagu. play() mengembalikan Promise.
            musicPlayer.play().then(() => {
                // Berhasil putar, update status
                localStorage.setItem(MUSIC_KEY, 'playing');
                applyStatus('playing');
            }).catch(e => {
                // Jika browser memblokir (misalnya di halaman baru tanpa interaksi)
                console.error("Gagal memutar audio: ", e);
                localStorage.setItem(MUSIC_KEY, 'paused');
                applyStatus('paused');
            });
        }
    };


    // === 4. SINKRONISASI LINTAS HALAMAN ===

    // Menyimpan currentTime dan status saat pengguna meninggalkan halaman
    window.addEventListener('beforeunload', () => {
        // Hanya simpan waktu jika lagu sedang diputar
        if (musicPlayer && musicPlayer.paused === false) { 
            localStorage.setItem(TIME_KEY, musicPlayer.currentTime);
        }
    });

    // Inisialisasi Saat Halaman Dimuat
    window.addEventListener('load', () => {
        const savedStatus = localStorage.getItem(MUSIC_KEY);
        const savedTime = localStorage.getItem(TIME_KEY); 
        
        if (savedStatus === 'playing') {
            
            // 1. Atur posisi lagu dari waktu yang tersimpan
            if (savedTime !== null && musicPlayer) {
                // parseFloat untuk memastikan nilai string yang tersimpan diubah menjadi angka
                musicPlayer.currentTime = parseFloat(savedTime); 
            }

            // 2. Coba putar lagu untuk melanjutkan
            if (musicPlayer) {
                musicPlayer.play().then(() => {
                    applyStatus('playing');
                }).catch(e => {
                    console.warn("Autoplay diblokir di halaman baru. Musik dihentikan.", e);
                    // Jika diblokir, atur status kembali ke 'paused'
                    localStorage.setItem(MUSIC_KEY, 'paused'); 
                    applyStatus('paused');
                });
            }
        } else {
             // Jika statusnya 'paused', pastikan visual juga paused
             applyStatus('paused');
        }

        // 3. Pasang Event Listener (Hanya jika speaker ada di halaman ini)
        if (speakerLeft && speakerRight) {
            speakerLeft.addEventListener('click', speakerClickHandler);
            speakerRight.addEventListener('click', speakerClickHandler);
        }
    });
</script>>
</body>